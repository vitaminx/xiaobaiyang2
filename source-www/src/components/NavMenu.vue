<template>
  <div class="navMenu">
    <div :class="{ navMenuItem: true, active: checkNavSelectedRss }" title="Rss订阅" @click="handleNav('/rss')">
      <svg t="1600435439824" class="icon" viewBox="0 0 1024 1024" width="18" height="18">
        <path d="M170.666667 426.666667c-25.6 0-42.666667 17.066667-42.666667 42.666666s17.066667 42.666667 42.666667 42.666667c187.733333 0 341.333333 153.6 341.333333 341.333333 0 25.6 17.066667 42.666667 42.666667 42.666667s42.666667-17.066667 42.666666-42.666667c0-234.666667-192-426.666667-426.666666-426.666666z" />
        <path d="M170.666667 128c-25.6 0-42.666667 17.066667-42.666667 42.666667s17.066667 42.666667 42.666667 42.666666c354.133333 0 640 285.866667 640 640 0 25.6 17.066667 42.666667 42.666666 42.666667s42.666667-17.066667 42.666667-42.666667c0-401.066667-324.266667-725.333333-725.333333-725.333333zM298.666667 810.666667a85.333333 85.333333 0 1 1-170.666667 0 85.333333 85.333333 0 0 1 170.666667 0z" />
      </svg>
    </div>
    <div :class="{ navMenuItem: true, active: checkNavSelected6pan }" title="6盘" @click="handleNav('/6pan')">
      <svg class="icon" viewBox="0 0 1024 1024" width="18" height="16">
        <path d="M529.250462 999.975385c86.961231 0 161.398154-30.956308 223.350153-92.908308 62.385231-62.345846 93.538462-137.019077 93.538462-223.980308 0-82.077538-27.884308-152.221538-83.692308-210.471384-56.201846-59.076923-122.88-88.615385-199.995077-88.615385-4.923077 0-11.697231 0.393846-20.283077 1.220923-8.664615 0.827077-19.101538 2.048-31.389538 3.702154l227.052308-308.932923-105.196308-78.769231-332.327385 451.072C238.355692 536.418462 207.36 616.014769 207.36 691.081846c0 83.692308 31.822769 156.081231 95.389538 217.206154 64.827077 61.164308 140.327385 91.726769 226.461539 91.726769z m-1.851077-130.441847c-50.491077 0-93.144615-17.447385-128-52.302769-34.894769-34.855385-52.342154-77.115077-52.342154-126.779077 0-49.624615 17.447385-91.884308 52.342154-126.739692 34.855385-34.894769 77.312-52.342154 127.369846-52.342154 49.624615 0 92.120615 17.644308 127.369846 52.932923 34.894769 34.894769 52.342154 77.548308 52.342154 128 0 48.009846-17.644308 89.639385-52.932923 124.928-34.894769 34.855385-76.918154 52.302769-126.148923 52.302769z" />
      </svg>
    </div>
    <div :class="{ navMenuItem: true, active: checkNavSelectedDown }" title="下载" @click="handleNav('/down')">
      <svg t="1600435907799" class="icon" viewBox="0 0 1024 1024" width="18" height="18">
        <path d="M484.352 776.192c7.168 7.168 16.896 11.264 27.648 11.264 10.24 0 19.968-4.096 27.648-11.264l262.656-262.656c7.168-7.168 11.264-16.896 11.264-27.648 0-7.168-2.048-13.824-5.12-19.456-2.56-4.608-6.144-8.192-10.24-11.776l-3.584-2.56c-6.144-3.584-12.8-5.632-19.968-5.632-10.24 0-19.968 4.096-27.648 11.264l-196.608 196.608V92.672c0-21.504-16.384-39.936-37.888-40.448-22.016-0.512-39.936 16.896-39.936 38.912v563.2L276.48 458.24c-7.168-7.168-16.896-11.264-27.648-11.264s-19.968 4.096-27.648 11.264c-7.168 7.168-11.264 16.896-11.264 27.648 0 10.24 4.096 19.968 11.264 27.648l263.168 262.656z" />
        <path d="M985.088 736.256c-21.504 0-38.912 17.408-38.912 38.912v104.96c0 7.68-6.144 13.824-13.824 13.824H91.648c-7.68 0-13.824-6.144-13.824-13.824v-104.96c0-21.504-17.408-38.912-38.912-38.912S0 753.664 0 775.168v104.96c0 50.176 40.96 91.648 91.648 91.648h841.216c50.176 0 91.648-40.96 91.648-91.648v-104.96c-0.512-21.504-17.92-38.912-39.424-38.912z" />
      </svg>
    </div>
    <div class="navMenuItem" @click="handleSetting">
      <svg class="icon" viewBox="0 0 1024 1024" width="18" height="18" title="设置">
        <path d="M512.26 704c-108.8 0-192-83.2-192-192s83.2-192 192-192 192 83.2 192 192-83.2 192-192 192z m0-320c-70.4 0-128 57.6-128 128s57.6 128 128 128 128-57.6 128-128-57.6-128-128-128z" />
        <path d="M640.26 1024h-256c-19.2 0-32-12.8-32-32V870.4c-25.6-12.8-51.2-25.6-70.4-38.4l-102.4 64c-12.8 6.4-32 6.4-44.8-12.8l-128-224c-12.8-19.2-6.4-38.4 12.8-44.8l102.4-64v-76.8l-102.4-64c-19.2-6.4-25.6-25.6-12.8-44.8l128-224c6.4-12.8 25.6-19.2 44.8-6.4l102.4 64c19.2-12.8 44.8-32 70.4-38.4V32c0-19.2 12.8-32 32-32h256c19.2 0 32 12.8 32 32v121.6c25.6 12.8 51.2 25.6 70.4 38.4l102.4-64c12.8-6.4 32-6.4 44.8 12.8l128 224c12.8 19.2 6.4 38.4-12.8 44.8l-102.4 64v76.8l102.4 64c12.8 6.4 19.2 25.6 12.8 44.8l-128 224c-6.4 12.8-25.6 19.2-44.8 12.8l-102.4-64c-19.2 12.8-44.8 32-70.4 38.4V992c0 19.2-12.8 32-32 32z m-224-64h192V851.2c0-12.8 6.4-25.6 19.2-32 32-12.8 64-32 89.6-51.2 12.8-6.4 25.6-6.4 38.4 0l96 57.6 96-166.4-96-57.6c-12.8-12.8-19.2-25.6-12.8-38.4 0-19.2 6.4-32 6.4-51.2s0-32-6.4-51.2c0-12.8 6.4-25.6 12.8-32l96-57.6-96-166.4-96 57.6c-12.8 6.4-25.6 6.4-38.4 0-25.6-19.2-57.6-38.4-89.6-51.2-12.8-12.8-19.2-25.6-19.2-38.4V64h-192v108.8c0 12.8-6.4 25.6-19.2 32-32 12.8-64 32-89.6 51.2-12.8 6.4-25.6 6.4-38.4 0l-96-51.2-96 166.4 96 57.6c12.8 6.4 19.2 19.2 12.8 32 0 19.2-6.4 32-6.4 51.2s0 32 6.4 51.2c6.4 12.8 0 25.6-12.8 32l-96 57.6 96 166.4 96-57.6c12.8-6.4 25.6-6.4 38.4 0 25.6 19.2 57.6 38.4 89.6 51.2 12.8 6.4 19.2 19.2 19.2 32V960z" />
      </svg>
    </div>
  </div>
</template>

<script lang="ts">
  import { defineComponent, computed } from 'vue'
  import { StoreDown } from '@/store/down'
  import { StoreConfig } from '@/store/config'
  import { StoreUI } from '@/store/ui'
  export default defineComponent({
    name: 'NavMenu',
    setup() {
      const checkNavSelectedRss = computed(() => StoreUI.PageName === '/rss')
      const checkNavSelected6pan = computed(() => StoreUI.PageName === '/6pan')
      const checkNavSelectedDown = computed(() => StoreUI.PageName === '/down')

      function handleNav(pagename: string) {
        StoreUI.mGotoPage(pagename)
        if (pagename === '/down') {
          StoreDown.aSelectDown('refresh')
        }
      }
      function handleSetting() {
        StoreConfig.aRefresh()
        StoreUI.mShowModal({ ModalName: 'setting' })
      }

      return {
        checkNavSelectedRss,
        checkNavSelected6pan,
        checkNavSelectedDown,
        handleNav,
        handleSetting,
      }
    },
  })
</script>

<style>
  /*****          navMenu      *** */
  .navMenu {
    width: 100%;
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
    height: 40px;
    padding: 0 16px 0 8px;
    flex-grow: 0;
    flex-shrink: 0;
    /*border-bottom: 1px solid rgba(38, 22, 22, 0.1);*/
  }
  .navMenuItem {
    display: flex !important;
    align-items: center !important;
    justify-content: space-around !important;

    cursor: pointer;
    padding: 4px 14px;
    font-size: 16px;
    color: #312727;
    line-height: 16px;
    text-align: center;
    border-radius: 4px;
    min-width: 46px;
    min-height: 28px;
  }

  .navMenuItem:hover {
    background-color: #eeecec;
  }
  .navMenuItem.active {
    background-color: rgba(207, 71, 71, 0.1);
  }

  .navMenuItem.active path {
    color: #df5659;
    fill: #df5659;
  }
</style>
